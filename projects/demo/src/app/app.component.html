<!-- Main Content -->
<main class="main-content">
  <!-- Central Card Container -->
  <div class="card-container">
    <!-- Card Header -->
    <header class="card-header">
      <div class="header-left">
        <a href="https://www.softwarity.io/" target="_blank" class="logo-link">
          <img src="https://www.softwarity.io/img/softwarity.svg" alt="Softwarity" class="logo">
        </a>
        <div class="title-block">
          <h1>&#64;hhangular/row-actions</h1>
          <div class="badges">
            <img src="https://img.shields.io/npm/v/@hhangular/row-actions.svg" alt="npm version">
            <img src="https://img.shields.io/npm/l/@hhangular/row-actions.svg" alt="license">
          </div>
        </div>
      </div>
      <nav class="nav-links">
        <a href="https://github.com/hhangular/row-actions#readme" target="_blank" class="nav-button">
          <mat-icon>menu_book</mat-icon>
          Documentation
        </a>
        <a href="https://github.com/hhangular/row-actions/blob/main/RELEASE_NOTES.md" target="_blank" class="nav-button">
          <mat-icon>assignment</mat-icon>
          Release Notes
        </a>
        <a href="https://github.com/hhangular/row-actions" target="_blank" class="nav-button">
          <svg class="github-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          GitHub
        </a>
        <a href="https://www.softwarity.io/" target="_blank" class="nav-button">
          <mat-icon>public</mat-icon>
          Softwarity
        </a>
      </nav>
    </header>

    <!-- Description Section -->
    <p class="description">
      An Angular component that displays an action toolbar when hovering over a <code>mat-table</code> row.
      The buttons appear with a smooth animation from the edge of the cell.
    </p>

    <!-- Demo Section - NOW FIRST -->
    <section class="section demo-section">
      <h2>Demo</h2>

      <!-- Controls -->
      <div class="demo-controls">
        <mat-checkbox [(ngModel)]="disabled" (change)="highlightCode()" color="primary">disabled</mat-checkbox>
      </div>

      <!-- Generated Code -->
      <div class="generated-code">
        <pre><code class="language-html" [innerHTML]="highlightedCode"></code></pre>
      </div>

      <!-- Demo Table -->
      <p class="demo-hint">Hover over a row to see the actions appear. Notice how the toolbar appears from the <strong>left</strong> on the Name column and from the <strong>right</strong> on Email and Actions columns, depending on the position of <code>&lt;row-actions&gt;</code> within the cell.</p>

      <div class="demo-table-wrapper">
        <mat-table [dataSource]="dataSource" class="demo-table">
          <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
            <mat-cell *matCellDef="let user">{{ user.id }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
            <mat-cell *matCellDef="let user">
              <row-actions>
                <button mat-icon-button (click)="onEdit(user)" title="Edit">
                  <mat-icon>edit</mat-icon>
                </button>
              </row-actions>
              {{ user.name }}
            </mat-cell>
          </ng-container>

          <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
            <mat-cell *matCellDef="let user">
              {{ user.email }}
              <row-actions>
                <button mat-icon-button (click)="onEdit(user)" title="Edit">
                  <mat-icon>edit</mat-icon>
                </button>
              </row-actions>
            </mat-cell>
          </ng-container>

          <ng-container matColumnDef="role">
            <mat-header-cell *matHeaderCellDef>Role</mat-header-cell>
            <mat-cell *matCellDef="let user">
              <span class="role-badge" [attr.data-role]="user.role.toLowerCase()">{{ user.role }}</span>
            </mat-cell>
          </ng-container>

          <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
            <mat-cell *matCellDef="let user">
              <span class="status-badge" [attr.data-status]="user.status.toLowerCase()">{{ user.status }}</span>
            </mat-cell>
          </ng-container>

          <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let user">
              {{ user.lastUpdated }}
              <row-actions [disabled]="disabled">
                <button mat-icon-button (click)="onView(user)" title="View">
                  <mat-icon>visibility</mat-icon>
                </button>
                <button mat-icon-button (click)="onEdit(user)" title="Edit">
                  <mat-icon>edit</mat-icon>
                </button>
                <button mat-icon-button (click)="onDuplicate(user)" title="Duplicate">
                  <mat-icon>content_copy</mat-icon>
                </button>
                <button mat-icon-button (click)="onDelete(user)" title="Delete">
                  <mat-icon>delete</mat-icon>
                </button>
              </row-actions>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
      </div>
    </section>

    <!-- Installation Section -->
    <section class="section">
      <h2>Installation</h2>
      <pre><code class="language-bash">npm install &#64;hhangular/row-actions</code></pre>
    </section>

    <!-- Usage Section -->
    <section class="section">
      <h2>Usage</h2>
      <pre><code class="language-html">&lt;ng-container matColumnDef="actions"&gt;
  &lt;mat-header-cell *matHeaderCellDef&gt;Actions&lt;/mat-header-cell&gt;
  &lt;mat-cell *matCellDef="let element"&gt;
    &lt;row-actions&gt;
      &lt;button mat-icon-button (click)="edit(element)"&gt;
        &lt;mat-icon&gt;edit&lt;/mat-icon&gt;
      &lt;/button&gt;
      &lt;button mat-icon-button (click)="delete(element)"&gt;
        &lt;mat-icon&gt;delete&lt;/mat-icon&gt;
      &lt;/button&gt;
    &lt;/row-actions&gt;
  &lt;/mat-cell&gt;
&lt;/ng-container&gt;</code></pre>
    </section>

    <!-- API Section -->
    <section class="section">
      <h2>API</h2>
      <div class="api-table-wrapper">
        <table class="api-table">
          <thead>
            <tr>
              <th>Input</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>disabled</code></td>
              <td><code>boolean</code></td>
              <td><code>false</code></td>
              <td>Disables the component (hides it completely)</td>
            </tr>
            <tr>
              <td><code>animationDisabled</code></td>
              <td><code>boolean</code></td>
              <td><code>false</code></td>
              <td>Disables the expansion animation (set at initialization only)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Theming Section -->
    <section class="section">
      <h2>Theming (Material 3)</h2>
      <p>The component uses Material 3 design tokens for theming. By default, it uses the <code>primary</code> color from your theme.</p>
      <p>The toolbar automatically inherits colors from these CSS custom properties:</p>
      <ul class="feature-list">
        <li><code>--mat-sys-primary</code> - Background color</li>
        <li><code>--mat-sys-on-primary</code> - Text/icon color</li>
      </ul>
      <p>To customize the colors, you can override these CSS custom properties in your styles:</p>
      <pre><code class="language-css">/* Use secondary color */
row-actions mat-toolbar &#123;
  background-color: var(--mat-sys-secondary);
  color: var(--mat-sys-on-secondary);
&#125;

/* Use tertiary color */
row-actions mat-toolbar &#123;
  background-color: var(--mat-sys-tertiary);
  color: var(--mat-sys-on-tertiary);
&#125;

/* Use error color */
row-actions mat-toolbar &#123;
  background-color: var(--mat-sys-error);
  color: var(--mat-sys-on-error);
&#125;

/* Custom color */
row-actions mat-toolbar &#123;
  background-color: #1976d2;
  color: white;
&#125;</code></pre>
    </section>

    <!-- Position Behavior Section -->
    <section class="section">
      <h2>Position Behavior</h2>
      <p>The toolbar automatically detects its position within the cell and animates accordingly:</p>
      <ul class="feature-list">
        <li><strong>First child</strong> in cell → Toolbar appears from the <strong>left</strong></li>
        <li><strong>Last child</strong> in cell → Toolbar appears from the <strong>right</strong></li>
      </ul>
      <p>You can place <code>&lt;row-actions&gt;</code> in any cell of your table, not just a dedicated "actions" column. This allows you to add contextual actions to specific data columns.</p>
      <pre ngNonBindable><code class="language-html">&lt;!-- Toolbar from LEFT --&gt;
&lt;mat-cell *matCellDef="let element"&gt;
  &lt;row-actions&gt;...&lt;/row-actions&gt;
  {{ element.name }}
&lt;/mat-cell&gt;

&lt;!-- Toolbar from RIGHT --&gt;
&lt;mat-cell *matCellDef="let element"&gt;
  {{ element.name }}
  &lt;row-actions&gt;...&lt;/row-actions&gt;
&lt;/mat-cell&gt;</code></pre>
    </section>

    <!-- Card Footer -->
    <footer class="card-footer">
      <img src="https://www.softwarity.io/img/softwarity.svg" alt="Softwarity" class="footer-logo">
      <span>Made by</span>
      <a href="https://www.softwarity.io/" target="_blank">Softwarity</a>
    </footer>
  </div>
</main>
